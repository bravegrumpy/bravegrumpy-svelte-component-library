import{q as R,i as U,j as V,k as q,n as B,N as H,l as P,L as Y,m as j,o as z}from"./iframe-DRTMT49f.js";import{a as D,s as G}from"./create-runtime-stories-Cjkdnt9G.js";import{s as F}from"./style-CmbQfhAO.js";function J(s,i){if(i){const t=document.body;s.autofocus=!0,R(()=>{document.activeElement===t&&s.focus()})}}const d=Symbol("class"),v=Symbol("style"),L=Symbol("is custom element"),N=Symbol("is html");function K(s,i){i?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function k(s,i,t,l){var n=w(s);n[i]!==(n[i]=t)&&(i==="loading"&&(s[Y]=t),t==null?s.removeAttribute(i):typeof t!="string"&&T(s).includes(i)?s[i]=t:s.setAttribute(i,t))}function Z(s,i,t,l,n=!1){var f=w(s),b=f[L],M=!f[N],e=i||{},y=s.tagName==="OPTION";for(var h in i)h in t||(t[h]=null);t.class?t.class=D(t.class):t[d]&&(t.class=null),t[v]&&(t.style??(t.style=null));var C=T(s);for(const o in t){let u=t[o];if(y&&o==="value"&&u==null){s.value=s.__value="",e[o]=u;continue}if(o==="class"){var I=s.namespaceURI==="http://www.w3.org/1999/xhtml";G(s,I,u,l,i==null?void 0:i[d],t[d]),e[o]=u,e[d]=t[d];continue}if(o==="style"){F(s,u,i==null?void 0:i[v],t[v]),e[o]=u,e[v]=t[v];continue}var A=e[o];if(u!==A){e[o]=u;var g=o[0]+o[1];if(g!=="$$")if(g==="on"){const r={},_="$$"+o;let a=o.slice(2);var p=j(a);if(U(a)&&(a=a.slice(0,-7),r.capture=!0),!p&&A){if(u!=null)continue;s.removeEventListener(a,e[_],r),e[_]=null}if(u!=null)if(p)s[`__${a}`]=u,q([a]);else{let $=function(O){e[o].call(this,O)};e[_]=V(a,s,$,r)}else p&&(s[`__${a}`]=void 0)}else if(o==="style")k(s,o,u);else if(o==="autofocus")J(s,!!u);else if(!b&&(o==="__value"||o==="value"&&u!=null))s.value=s.__value=u;else if(o==="selected"&&y)K(s,u);else{var c=o;M||(c=B(c));var S=c==="defaultValue"||c==="defaultChecked";if(u==null&&!b&&!S)if(f[o]=null,c==="value"||c==="checked"){let r=s;const _=i===void 0;if(c==="value"){let a=r.defaultValue;r.removeAttribute(c),r.defaultValue=a,r.value=r.__value=_?a:null}else{let a=r.defaultChecked;r.removeAttribute(c),r.defaultChecked=a,r.checked=_?a:!1}}else s.removeAttribute(o);else S||C.includes(c)&&(b||typeof u!="string")?s[c]=u:typeof u!="function"&&k(s,c,u)}}}return e}function w(s){return s.__attributes??(s.__attributes={[L]:s.nodeName.includes("-"),[N]:s.namespaceURI===H})}var E=new Map;function T(s){var i=E.get(s.nodeName);if(i)return i;E.set(s.nodeName,i=[]);for(var t,l=s,n=Element.prototype;n!==l;){t=z(l);for(var f in t)t[f].set&&i.push(f);l=P(l)}return i}export{k as a,Z as s};
